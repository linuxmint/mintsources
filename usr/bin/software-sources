#!/usr/bin/python3

import os
import subprocess
import sys

if os.getuid() != 0:
    cmd = ["pkexec", "/usr/bin/mintsources"]
    if "http_proxy" in os.environ:
        cmd.extend(["--http-proxy", os.environ["http_proxy"]])
    if "https_proxy" in os.environ:
        cmd.extend(["--https-proxy", os.environ["https_proxy"]])
    if "no_proxy" in os.environ:
        cmd.extend(["--no-proxy", os.environ["no_proxy"]])
    subprocess.run(cmd)
else:
    subprocess.run(["/usr/lib/linuxmint/mintSources/mintSources.py"] + sys.argv[1:])
